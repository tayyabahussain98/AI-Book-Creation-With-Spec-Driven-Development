<?xml version="1.0"?>
<!--
  Simple Humanoid Arm URDF Example

  This URDF describes a 3-joint robotic arm with:
  - Base link (fixed to world)
  - Shoulder joint (revolute, yaw rotation)
  - Elbow joint (revolute, pitch rotation)
  - Wrist link (end effector attachment point)

  Coordinate Frame Conventions:
  - X-axis: Forward (red)
  - Y-axis: Left (green)
  - Z-axis: Up (blue)

  Joint Types:
  - Revolute: Rotational joint with limits (like a hinge)
  - Fixed: No motion (rigid connection)
-->

<robot name="simple_arm">

  <!-- ========================================
       Link 1: Base Link (Fixed to World)
       ======================================== -->
  <link name="base_link">
    <!-- Visual representation (what you see in simulation) -->
    <visual>
      <origin xyz="0 0 0.05" rpy="0 0 0"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
      <material name="gray">
        <color rgba="0.5 0.5 0.5 1.0"/>
      </material>
    </visual>

    <!-- Collision geometry (for physics engine) -->
    <collision>
      <origin xyz="0 0 0.05" rpy="0 0 0"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
    </collision>

    <!-- Inertial properties (mass and inertia tensor for dynamics) -->
    <inertial>
      <origin xyz="0 0 0.05" rpy="0 0 0"/>
      <mass value="1.0"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0"
               iyy="0.001" iyz="0.0"
               izz="0.001"/>
    </inertial>
  </link>


  <!-- ========================================
       Joint 1: Shoulder Joint (Yaw/Rotation)
       ======================================== -->
  <joint name="shoulder_joint" type="revolute">
    <!-- Parent link (fixed reference) -->
    <parent link="base_link"/>

    <!-- Child link (moves with joint) -->
    <child link="upper_arm_link"/>

    <!-- Joint origin: position and orientation relative to parent frame -->
    <origin xyz="0 0 0.1" rpy="0 0 0"/>

    <!-- Rotation axis: Z-axis for yaw (horizontal rotation) -->
    <axis xyz="0 0 1"/>

    <!-- Joint limits -->
    <limit effort="30.0" velocity="1.57" lower="-1.57" upper="1.57"/>
    <!-- effort: Max torque in Newton-meters (Nm) -->
    <!-- velocity: Max angular velocity in radians/second -->
    <!-- lower/upper: Joint angle limits in radians (-90° to +90°) -->

    <!-- Joint dynamics (damping and friction for simulation) -->
    <dynamics damping="0.1" friction="0.01"/>
  </joint>


  <!-- ========================================
       Link 2: Upper Arm Link (Shoulder to Elbow)
       ======================================== -->
  <link name="upper_arm_link">
    <visual>
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.03" length="0.3"/>
      </geometry>
      <material name="blue">
        <color rgba="0.0 0.0 0.8 1.0"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.03" length="0.3"/>
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 0 0.15" rpy="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="0.00375" ixy="0.0" ixz="0.0"
               iyy="0.00375" iyz="0.0"
               izz="0.000225"/>
    </inertial>
  </link>


  <!-- ========================================
       Joint 2: Elbow Joint (Pitch/Bending)
       ======================================== -->
  <joint name="elbow_joint" type="revolute">
    <parent link="upper_arm_link"/>
    <child link="forearm_link"/>

    <!-- Joint positioned at end of upper arm -->
    <origin xyz="0 0 0.3" rpy="0 0 0"/>

    <!-- Rotation axis: Y-axis for pitch (forward/backward bending) -->
    <axis xyz="0 1 0"/>

    <!-- Joint limits: 0° (straight) to 150° (bent) -->
    <limit effort="20.0" velocity="1.57" lower="0.0" upper="2.618"/>

    <dynamics damping="0.1" friction="0.01"/>
  </joint>


  <!-- ========================================
       Link 3: Forearm Link (Elbow to Wrist)
       ======================================== -->
  <link name="forearm_link">
    <visual>
      <origin xyz="0 0 0.125" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.025" length="0.25"/>
      </geometry>
      <material name="green">
        <color rgba="0.0 0.8 0.0 1.0"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0.125" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.025" length="0.25"/>
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 0 0.125" rpy="0 0 0"/>
      <mass value="0.3"/>
      <inertia ixx="0.0015625" ixy="0.0" ixz="0.0"
               iyy="0.0015625" iyz="0.0"
               izz="0.00009375"/>
    </inertial>
  </link>


  <!-- ========================================
       Joint 3: Wrist Joint (Roll/Rotation)
       ======================================== -->
  <joint name="wrist_joint" type="revolute">
    <parent link="forearm_link"/>
    <child link="wrist_link"/>

    <!-- Joint positioned at end of forearm -->
    <origin xyz="0 0 0.25" rpy="0 0 0"/>

    <!-- Rotation axis: Z-axis for roll (twisting) -->
    <axis xyz="0 0 1"/>

    <!-- Joint limits: -90° to +90° -->
    <limit effort="10.0" velocity="1.57" lower="-1.57" upper="1.57"/>

    <dynamics damping="0.05" friction="0.01"/>
  </joint>


  <!-- ========================================
       Link 4: Wrist Link (End Effector Mount)
       ======================================== -->
  <link name="wrist_link">
    <visual>
      <origin xyz="0 0 0.025" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.03"/>
      </geometry>
      <material name="red">
        <color rgba="0.8 0.0 0.0 1.0"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0.025" rpy="0 0 0"/>
      <geometry>
        <sphere radius="0.03"/>
      </geometry>
    </collision>

    <inertial>
      <origin xyz="0 0 0.025" rpy="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="0.000036" ixy="0.0" ixz="0.0"
               iyy="0.000036" iyz="0.0"
               izz="0.000036"/>
    </inertial>
  </link>

</robot>


<!-- ========================================
     URDF Structure Summary
     ========================================

     Kinematic Chain:
     base_link → [shoulder_joint] → upper_arm_link → [elbow_joint] → forearm_link → [wrist_joint] → wrist_link

     Total Reach: 0.1 (base) + 0.3 (upper arm) + 0.25 (forearm) + 0.05 (wrist) = 0.7 meters

     Degrees of Freedom (DoF): 3
     - Shoulder: Yaw (horizontal rotation)
     - Elbow: Pitch (vertical bending)
     - Wrist: Roll (twisting)

     Coordinate Frames:
     - base_link: Origin at (0, 0, 0) world frame
     - upper_arm_link: Origin at (0, 0, 0.1) relative to base
     - forearm_link: Origin at (0, 0, 0.3) relative to upper_arm_link
     - wrist_link: Origin at (0, 0, 0.25) relative to forearm_link

     Visual vs Collision Geometry:
     - Visual: Detailed geometry for rendering (can be complex meshes)
     - Collision: Simplified geometry for physics (primitives: box, cylinder, sphere)

     Inertial Properties:
     - Mass: Weight of link in kilograms
     - Inertia: Resistance to rotational acceleration (3x3 tensor)
     - Required for accurate physics simulation in Gazebo/Isaac Sim

     Usage:
     1. Visualize: ros2 launch urdf_tutorial display.launch.py model:=simple_arm.urdf
     2. Check structure: check_urdf simple_arm.urdf
     3. Generate TF tree: urdf_to_graphiz simple_arm.urdf
-->
